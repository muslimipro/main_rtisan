import{s as E}from"./index-DK15Ya2N.js";import{H as v,d as S,u as B,r as y,a as b,b as w,o as c,l as H,E as C,g as i,h as l,i as d,N as U,ad as N,x as $,e as z,c as m,F as D,k as O,t as _,p as g,n as T,y as V,v as j,aE as F,w as M}from"./index-CRqy2v5g.js";import{s as P}from"./index-CtlvT3kO.js";import{L as q}from"./logo-D1-3uCnC.js";const G={getUserProgress:J,getUserInfo:K,getUserLastLesson:Q};async function J(){return await v.get("user/progress")}async function K(){return await v.get("user/info")}async function Q(){return await v.get("v2/lesson/last")}const W=S("user-store",()=>{const f=B(),e=y(),o=y(!1);async function a(){try{o.value=!0;const{data:t}=await G.getUserInfo();e.value=t}catch(t){f.add({severity:"error",summary:t,life:2e3})}finally{o.value=!1}}const n=b(()=>{var u,p;let t="",r="";return(u=e.value)!=null&&u.name&&(t=e.value.name.charAt(0).toUpperCase()),(p=e.value)!=null&&p.surname&&(r=e.value.surname.charAt(0).toUpperCase()),t+r}),h=b(()=>{var t,r;return((t=e.value)==null?void 0:t.user_type)==="editor"||((r=e.value)==null?void 0:r.user_type)==="contributor"});return{isUserInfoLoading:o,userInfo:e,loadUserInfo:a,userLabel:n,isEditorOrContributor:h}}),X=w({__name:"LogoTitle",setup(f){return(e,o)=>{const a=P,n=U("RouterLink");return c(),H(n,{to:"/v2",class:"flex items-center hover:opacity-80 transition"},{default:C(()=>[i(a,{src:l(q),width:"32",class:"hidden sm:block"},null,8,["src"]),o[0]||(o[0]=d("p",{class:"hidden sm:block text-xl font-semibold px-2 mr-8"},"Artisan",-1))]),_:1})}}}),Y={class:"flex items-center justify-between w-full min-h-16 border-b border-gray-200 px-8 bg-white"},Z={class:"flex items-center h-full"},ee={class:"flex gap-6 h-full pt-1"},te={key:0,class:"text-md font-light"},se={key:1,class:"text-md font-light"},oe={key:2,class:"text-md font-light"},ae={class:"flex items-center gap-2 h-full pt-1"},le=w({__name:"MainHeader",setup(f){const{t:e}=N(),o=V(),a=j(),n=$(),h=W(),{isEditorOrContributor:t}=z(h),r=[{name:"home2",title:"Home"},{name:"docs",title:"Docs"},{name:"hackathon",title:"Hackathon"},{name:"routes",title:"Routes"}],u=y(),p=b(()=>[{label:e("header.menu.settings"),icon:"pi pi-cog",command:()=>a.push({name:"settings2"})},{label:e("logOut"),icon:"pi pi-sign-out",command:async()=>{await a.replace({name:"login"}),await F.logout(),n.logout()}}]),I=x=>{u.value.toggle(x)};return(x,k)=>{const R=U("RouterLink"),L=M,A=E;return c(),m("div",Y,[d("div",Z,[i(X),d("div",ee,[(c(),m(D,null,O(r,s=>i(R,{key:s.name,to:{name:s.name},class:T(["h-full flex items-center justify-center border-b-2 transition-colors",l(o).name===s.name?s.name=="hackathon"&&l(n).access_type=="hackathon"?"border-purple400 text-purple400":"border-black text-black":"border-transparent hover:text-black text-gray-500"])},{default:C(()=>[s.name=="hackathon"&&l(n).access_type=="hackathon"?(c(),m("span",te,_(s.title),1)):g("",!0),s.name=="routes"&&l(t)?(c(),m("span",se,_(s.title),1)):g("",!0),["routes","hackathon"].includes(s.name)?g("",!0):(c(),m("span",oe,_(s.title),1))]),_:2},1032,["to","class"])),64))])]),d("div",ae,[i(L,{id:"#ide",label:"IDE",onClick:k[0]||(k[0]=s=>l(a).push({name:"ide"})),size:"small",variant:"outlined",severity:"help",icon:"pi pi-microchip"}),i(L,{type:"button",icon:"pi pi-bars",onClick:I,size:"small",variant:"text",severity:"contrast",style:{width:"34px"}}),i(A,{ref_key:"menu",ref:u,model:p.value,popup:!0},null,8,["model"])])])}}});export{G as U,le as _,W as u};
