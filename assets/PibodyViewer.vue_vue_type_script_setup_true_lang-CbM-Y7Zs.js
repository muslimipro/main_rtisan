import{_ as m,d as x}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BavQ792j.js";import{S as M}from"./SimulationView-D0wr38ER.js";import{e as k,r as U,a4 as V,z as P,o as b,c as B,h as d,i as a,E as y,j as g}from"./index-CRcQ_LZd.js";const _={key:0,class:"flex flex-col w-full"},E={class:"h-[500px] flex flex-col w-full",style:{border:"0.1px solid #808080",borderRadius:"12px",overflow:"hidden"}},N={key:1,class:"flex flex-row w-full"},S={class:"flex flex-col w-full"},u=!0,I=k({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(z,{emit:R}){var p;const t=z,r=R,s=U(""),l=U([]),n=((p=t.data)==null?void 0:p.neededModules)??[];V(()=>{var e,o,c,v,w;const i=((o=(e=t.state)==null?void 0:e.answer)==null?void 0:o.code)??"";s.value=t.starting||i==""?(c=t.content)==null?void 0:c.starting:i,l.value=((w=(v=t.state)==null?void 0:v.answer)==null?void 0:w.slots)??[]}),P([s,l],()=>{r("save-answer",{code:s.value,slots:l.value})});function f(){r("run")}return(i,e)=>t.horizontal?(b(),B("div",_,[d(a(M),{class:"w-full",slots:l.value,"onUpdate:slots":e[0]||(e[0]=o=>l.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[1]||(e[1]=o=>y(n)?n.value=o:null),id:t.id,horizontal:!0},null,8,["slots","neededModules","id"]),g("div",E,[d(m,{code:s.value,"onUpdate:code":e[2]||(e[2]=o=>s.value=o),connectbuttons:u,"onUpdate:connectbuttons":e[3]||(e[3]=o=>u=o),id:t.id,onRun:f},null,8,["code","id"]),d(a(x),{id:t.id,class:"flex-grow max-h-40"},null,8,["id"])])])):(b(),B("div",N,[g("div",S,[d(m,{code:s.value,"onUpdate:code":e[4]||(e[4]=o=>s.value=o),connectbuttons:u,"onUpdate:connectbuttons":e[5]||(e[5]=o=>u=o),id:t.id,onRun:f},null,8,["code","id"]),d(a(x),{id:t.id,class:"flex-grow max-h-96"},null,8,["id"])]),d(a(M),{class:"max-w-[467px] w-1/2",slots:l.value,"onUpdate:slots":e[6]||(e[6]=o=>l.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[7]||(e[7]=o=>y(n)?n.value=o:null),id:t.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{I as _};
