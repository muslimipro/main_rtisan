import{x as a,d,ad as u,r as p,a as _,b as m,e as y,o as f,l as v,y as L,i as g,h as r,W as w}from"./index-B0nxH1Il.js";import{s as B}from"./index-DVuc-J06.js";import{A as l}from"./language-DYQF8nnT.js";const O={createLesson:S,getLessonById:b,updateLessonById:h,deleteLessonById:x,setLessonDependency:A,removeLessonDependency:C,removeAllLessonDependencies:D,resetLessonById:I};async function S(e){return await a.post("v2/lesson",{access_type:e.access_type,description:e.description,lesson_type:e.lesson_type,level_id:e.level_id,name:e.name,route_id:e.route_id})}async function b(e,s,n){const o={};return n&&(o.lang=n),s&&(o.route_id=s),await a.get(`v2/lesson/${e}`,{params:o})}async function h(e,s,n){const o={};return n&&(o.lang=n),await a.put(`v2/lesson/${e}`,{access_type:s.access_type,description:s.description,language:s.language,name:s.name,preview_image_url:s.preview_image_url,source_image_url:s.source_image_url,lesson_type:s.lesson_type},{params:o})}async function x(e){return await a.delete(`v2/lesson/${e}`)}async function A(e){return await a.post("v2/lesson/dependency",{depend_on_id:e.depend_on_id,lesson_id:e.lesson_id,route_id:e.route_id})}async function C(e){return await a.delete("v2/lesson/dependency",{data:{depend_on_id:e.depend_on_id,lesson_id:e.lesson_id,route_id:e.route_id}})}async function D(e){return await a.delete("v2/lesson/dependency/all",{data:{lesson_id:e.lesson_id,route_id:e.route_id}})}async function I(e){return await a.delete(`v2/lesson/${e}/reset`)}const k=d("locale-store",()=>{const{locale:e}=u(),s=p(l.find(o=>o.locale===e.value)??l[0]),n=_(()=>s.value.locale);return{selectedLang:s,lang:n}}),P=m({__name:"EditLocaleSelector",setup(e){const s=k(),{selectedLang:n}=y(s);return(o,t)=>{const i=B;return f(),v(i,{modelValue:r(n),"onUpdate:modelValue":t[0]||(t[0]=c=>w(n)?n.value=c:null),options:r(l),optionLabel:"label",checkmark:"",highlightOnSelect:!0,size:"small",class:"flex-grow min-w-0",pt:{dropdown:{class:"w-0"}}},{dropdownicon:L(()=>t[1]||(t[1]=[g("div",null,null,-1)])),_:1},8,["modelValue","options"])}}}),R={header:"Confirm delete",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Delete",severity:"danger"}};export{O as L,P as _,R as d,k as u};
