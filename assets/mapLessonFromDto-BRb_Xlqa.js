import{m as o}from"./mapUnitFromDto-BRBO9875.js";function l(e){const r=[];let s={id:-1,groups:[],showCode:!1,showPibody:!1},i={id:-1,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};for(const u of e){const{unit_type:a,id:t}=u;if(a==="pibody"&&(i.pibodyDrawerVisible=!0,i.codeDrawerVisible=!0,s.showPibody=!0,s.showCode=!0),a==="code"&&(i.codeDrawerVisible=!0,s.showCode=!0),a==="page-divider")s.groups.push(i),r.push(s),s={id:t,groups:[],showCode:!1,showPibody:!1},i={id:t,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};else if(a==="group-divider")s.groups.push(i),i={id:t,units:[],codeDrawerVisible:!1,pibodyDrawerVisible:!1};else{const p=o(u);i.units.push(p)}}return s.groups.push(i),r.push(s),r}const c=e=>{var r;return{accessStatus:e.access_status,accessType:e.access_type,createdAt:new Date(e.created_at),createdBy:e.created_by,description:e.description,id:e.id,lessonType:e.lesson_type,levelId:e.level_id,name:e.name,previewImageUrl:e.preview_image_url,reviewedBy:e.reviewed_by,sourceImageUrl:e.source_image_url,stage:e.stage,studentProgress:e.student_progress,pages:l(e.units??[]),units:((r=e.units)==null?void 0:r.map(o))??[],lastAccessedUnit:e.last_accessed_unit,updatedAt:new Date(e.updated_at),updatedBy:e.updated_by,editable:e.editable}};export{c as m};
