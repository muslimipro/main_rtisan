import{_ as Ve,a as Me,b as qe,c as Ne,s as He}from"./VideoViewer.vue_vue_type_script_setup_true_lang-BAPv4Eq8.js";import{s as _e}from"./index-BWH-atav.js";import{s as We}from"./index-CPFgQLOA.js";import{d as Fe,u as Oe,r as p,x as xe,f as te,b as j,e as ae,o as a,c as v,p as z,i as s,q as P,y as Ae,z as se,j as f,F as ne,l as ke,g as Ee,$ as Ke,a0 as Ye,D as T,h,C as we,_ as Ze,w as Ce,k as me,t as he,a1 as be,Z as Je,A as Qe,E as X,K as Xe,v as et}from"./index-DahtM8lj.js";import{_ as tt,d as st}from"./defaultConfirmDeleteOptions-gyGWJYts.js";import{u as Le,c as nt,a as at,b as Be,T as lt}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-Bcyhz7-E.js";import{S as ot}from"./SimulationView-D8ilr2E2.js";import{_ as it}from"./CodeViewer.vue_vue_type_script_setup_true_lang-Cc7ZjKjW.js";import{u as Ie}from"./useLocaleStore-CQLYhIpY.js";import{L as rt}from"./lessonApi-ChVsmNSY.js";import{m as ut}from"./mapLessonFromDto-BRb_Xlqa.js";import{U as ee}from"./unitApi-CddXXI7q.js";import{m as ct}from"./mapUnitFromDto-BRBO9875.js";import{_ as dt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Dq4qGnqI.js";import"./index-Bo__JrBS.js";import"./index-C7_NGefK.js";import"./index-bIm1utdD.js";import"./index-BcvfGUnb.js";import"./index-GUpX1pfL.js";import"./index-B7VVys5w.js";import"./index-DVVzbKxq.js";import"./index-CwFCQVYf.js";import"./language-DYQF8nnT.js";import"./index-DoH8TBbD.js";async function ye(A){const u=new TextEncoder().encode(A),g=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(g)).map(C=>C.toString(16).padStart(2,"0")).join("")}function vt(A){let t="",u=!1;for(let g=0;g<A.length;g++){const i=A[g];if(i==="#"&&(u=!0),u)if(i===`
`)u=!1;else continue;i!==" "&&i!=="	"&&i!==`
`&&i!=="\r"&&(t+=i)}return t}function pt(A,t){if(A.length!==t.length)return!1;const u=[...A].sort(),g=[...t].sort();return u.every((i,S)=>i===g[S])}const ue=Fe("lesson-store",()=>{const A=Oe(),t=p(null),u=p(!1),g=p(!1),i=p(!1),S=p(!1),C=p(!1),B=p(0),y=p(0),n=p([]),w=p(0),_=p(new Map),x=p(new Map),d=p([]),l=p("continue"),$=p(!1),m=p(!1),b=p(!1),G=p(!0),U=p(""),K=p(null),H=p(null),Y=p([]),Z=p([]),ce=xe(),de=Ie(),{lang:ve}=te(de),V=p(void 0),le=j(()=>{var e;return b.value&&(((e=K.value)==null?void 0:e.modulesWerePut)??!0)&&G.value});async function pe(e,c){try{u.value=!0,_.value.clear(),x.value.clear(),V.value=ce.userRole==="editor"?ve.value:void 0;const{data:r}=await rt.getLessonById(e,c,V.value);t.value=ut(r),t.value.stage=="published"&&M()}catch(r){A.add({severity:"error",summary:r.response.data.error,life:2e3})}finally{u.value=!1}}async function M(){if(t.value)try{C.value=!0,B.value=0,_.value.clear();const e=[];t.value.pages.forEach(k=>{k.groups.forEach(E=>{E.units.forEach(Q=>{e.push({id:Q.id,lessonId:t.value.id})})})});const c=e.length,r=5;for(let k=0;k<e.length;k+=r){const Q=e.slice(k,k+r).map(async({id:fe,lessonId:je})=>{try{const{data:ge}=await ee.getUnitByIdandLessonId(fe,je,V.value);_.value.set(fe,ge)}catch(ge){console.warn(`Failed to preload unit ${fe}:`,ge)}});await Promise.all(Q),B.value=Math.round(Math.min(k+r,c)/c*100)}}catch(e){console.error("Error preloading units:",e)}finally{C.value=!1}}async function q(e,c){if(_.value.has(e))return _.value.get(e);try{g.value=!0;const{data:r}=await ee.getUnitByIdandLessonId(e,c,V.value);return _.value.set(e,r),r}catch(r){A.add({severity:"error",summary:r.response.data.error,life:2e3})}finally{g.value=!1}}async function W(){if(t.value!=null){i.value=!0,n.value=[],y.value=0,w.value=0,d.value=[],U.value="",Z.value=[],m.value=!1;for(let e=0;e<t.value.pages.length;e++)d.value.push(0);l.value="continue",n.value.push(t.value.pages[y.value].groups[w.value]),await J(t.value.id),i.value=!1}}function oe(e,c){let r="";if(U.value==""||c.content.starting!=""){r=`emulator-${c.id}`;const k=c.content.starting;H.value=Le(r),H.value.setCode(k)}U.value=r??U.value,e=="pibody"&&(K.value=at(U.value),Y.value=c.data.neededModules,K.value.addNeededModules(Y.value),r!=""&&(Z.value=[]))}async function J(e){b.value=!1,$.value=!1;for(let c=0;c<n.value[w.value].units.length;c++){const r=n.value[w.value].units[c];["options","open","code","pibody"].includes(r.unitType)&&(l.value="check",$.value=!0);const k=await q(r.id,e);if(k){const E=ct(k);n.value[w.value].units[c].content=E==null?void 0:E.content,n.value[w.value].units[c].data=E==null?void 0:E.data,n.value[w.value].units[c].studentState=E==null?void 0:E.studentState,["code","pibody"].includes(r.unitType)&&(b.value=!0,E.content.answer==""&&E.data.tests.lenght==0||(G.value=!1),oe(r.unitType,E))}}l.value=="continue"&&await D()}async function D(){if(t.value!=null)try{S.value=!0,m.value=!1;for(const e of n.value[n.value.length-1].units){if(x.value.set(e.id,e.studentState.answer),["code","pibody"].includes(e.unitType)){const c=Le(U.value).code.value;if(e.data.tests.length>0){const r=await nt(U.value,c,e.data.tests,e.data.includedCommands);m.value=r.correct}else if(!e.content.hashed_answer)m.value=!0;else{const r=vt(c),k=await ye(r);m.value=e.content.hashed_answer===k}}else if(e.unitType=="open"){const r=String(e.studentState.answer.open??"").replace(/ /g,"").toLowerCase(),k=await ye(r);m.value=e.content.hashed_answer===k}else if(e.unitType=="options"){const c=e.studentState.answer.options,r=[];for(const k of c)r.push(await ye(k));m.value=pt(e.content.hashed_answer,r)}else m.value=!0;if(m.value==!1)break}n.value[n.value.length-1].units.length||(m.value=!0),m.value?(d.value[y.value]++,w.value>=t.value.pages[y.value].groups.length-1?y.value<t.value.pages.length-1?l.value="continue":l.value="finish":l.value="continue"):l.value="try-again"}finally{S.value=!1}}async function o(){if(t.value!=null){if(w.value>=t.value.pages[y.value].groups.length-1){await $e(),Se();return}i.value=!0,w.value++,n.value.push(t.value.pages[y.value].groups[w.value]),await J(t.value.id),i.value=!1}}async function I(e){const c=n.value[n.value.length-1].id;l.value="continue",d.value[y.value]--,w.value--,n.value.pop(),c==e?y.value==0&&n.value.length==0?await W():await o():await I(e)}function F(){y.value!=0&&(d.value[y.value]=0,d.value[y.value-1]=0,y.value-=2,Se())}function N(e,c){if(t.value!=null){for(const[r,k]of n.value.entries())for(const[E,Q]of k.units.entries())if(Q.id==e){n.value[r].units[E].studentState.answer=c;break}}}async function ie(){t.value!=null&&(l.value="check")}async function L(){t.value!=null&&(await $e(),l.value="completed")}function re(){_.value.clear(),B.value=0,C.value=!1}async function Se(){t.value!=null&&(i.value=!0,y.value++,n.value=[],w.value=0,l.value="continue",n.value.push(t.value.pages[y.value].groups[w.value]),await J(t.value.id),i.value=!1)}function Pe(e){b.value=e}function Ue(){G.value=!0}async function ze(e){if(U.value=="")return;const c=Number(U.value.split("-")[1]);e.code=H.value.code,N(c,e),await ee.saveUnitByIdandLessonId(c,t.value.id,{answer:e})}async function $e(){if(i.value=!0,t.value==null)return;const e=Array.from(x.value.entries()).map(([r,k])=>({id:r,student_answer:k})),{data:c}=await ee.submitUnitsByLessonId(t.value.id,e);m.value=c.correct,x.value=new Map,i.value=!1}const R=j(()=>t.value?t.value.pages[y.value]??null:null),O=j(()=>R.value?R.value.groups[w.value]??null:null),De=j({get:()=>{var e;return((e=O.value)==null?void 0:e.pibodyDrawerVisible)??!1},set:e=>{O.value&&(O.value.pibodyDrawerVisible=e)}}),Te=j({get:()=>{var e;return((e=O.value)==null?void 0:e.codeDrawerVisible)??!1},set:e=>{O.value&&(O.value.codeDrawerVisible=e)}}),Ge=j({get:()=>{var e;return((e=R.value)==null?void 0:e.showPibody)??!1},set:e=>{R.value&&(R.value.showPibody=e)}}),Re=j({get:()=>{var e;return((e=R.value)==null?void 0:e.showCode)??!1},set:e=>{R.value&&(R.value.showCode=e)}});return{selectedLesson:t,isLessonLoading:u,isUnitLoading:g,groups:n,groupIndex:w,isGroupLoading:i,isSubmitLoading:S,isPreloadingUnits:C,preloadingProgress:B,groupStatus:l,submitExist:$,correct:m,submitEnabled:le,pageProgress:d,emulatorID:U,neededModules:Y,slots:Z,pibodyDrawerVisible:De,codeDrawerVisible:Te,showPibody:Ge,showCode:Re,setSubmitable:Pe,loadLessonById:pe,loadUnitByIdandLessonId:q,preloadAllUnits:M,clearUnitsCache:re,loadInitialGroup:W,submitGroup:D,nextGroup:o,saveAnswer:N,tryAgain:ie,finishLesson:L,runCodePressed:Ue,saveStudentIdeState:ze,resetGroup:I,pageBack:F}}),ft={key:1,class:"flex-grow px-4 py-2"},gt=ae({__name:"UnitCard",props:{unit:{},loading:{type:Boolean}},setup(A){const t=A,u=Ae(),g=ue(),{saveAnswer:i,setSubmitable:S}=g;function C(n){t.unit.unitType=="options"?S(n.options.length>0):t.unit.unitType=="open"&&S(n.open.length>0),i(t.unit.id,n),B(n)}const B=Be(n=>{y(n)},1e3,{maxWait:5e3});async function y(n){await ee.saveUnitByIdandLessonId(t.unit.id,Number(u.params.id),{answer:n})}return(n,w)=>{const _=_e;return a(),v("div",null,[n.loading?(a(),z(_,{key:0,class:"flex justify-center items-center w-10 h-full"})):(a(),v("div",ft,[t.unit.unitType=="article"?(a(),z(s(Ve),{key:0,article:t.unit.content},null,8,["article"])):t.unit.unitType=="options"?(a(),z(s(Me),{key:1,"options-data":t.unit.content,state:t.unit.studentState,onSaveAnswer:C},null,8,["options-data","state"])):t.unit.unitType=="open"?(a(),z(s(qe),{key:2,state:t.unit.studentState,onSaveAnswer:C},null,8,["state"])):t.unit.unitType=="video"?(a(),z(s(Ne),{key:3,video:t.unit.content},null,8,["video"])):P("",!0)]))])}}}),mt={key:1,class:"flex flex-col h-full w-full"},ht={class:"flex-grow flex flex-col gap-4 px-4 py-2"},yt=ae({__name:"GroupCard",props:{group:{},loading:{type:Boolean}},setup(A){const t=A,u=p(null);return se(()=>t.loading,g=>{g===!1&&u.value&&requestAnimationFrame(()=>{var i;(i=u.value)==null||i.scrollIntoView({behavior:"smooth",block:"start"})})}),(g,i)=>{const S=_e;return a(),v("div",{ref_key:"groupRef",ref:u},[g.loading?(a(),z(S,{key:0,class:"flex justify-center items-center w-10 h-full"})):(a(),v("div",mt,[f("div",ht,[(a(!0),v(ne,null,ke(g.group.units,C=>(a(),z(gt,{key:C.id,unit:C},null,8,["unit"]))),128))])]))],512)}}}),wt={key:0,class:"absolute right-0"},bt=ae({__name:"UnitsView",props:{pages:{}},setup(A){const t=ue(),{groups:u,isGroupLoading:g}=te(t),{loadInitialGroup:i,resetGroup:S}=t,C=xe(),B=p(null),y=p(null),n=p(0);function w(d){let l=d;for(;l&&l.parentElement;){const $=l.parentElement,b=getComputedStyle($).overflowY;if(b==="auto"||b==="scroll")return $;l=$}return null}async function _(){await Ze();const d=w(B.value),l=y.value;if(!d||!l){n.value=0;return}const $=d.clientHeight,m=l.getBoundingClientRect().height,b=Math.max(0,$-m);n.value=b}function x(d,l){var b;const $=(b=u.value[u.value.length-1])==null?void 0:b.id;let m=null;d&&(d instanceof Element?m=d:d.$el instanceof Element&&(m=d.$el)),y.value=l.id===$?m:null}return Ee(()=>{i(),_(),window.addEventListener("resize",_)}),Ke(()=>{window.removeEventListener("resize",_)}),se(()=>u.value.length,async()=>{await _()}),se(()=>g.value,async(d,l)=>{l===!0&&d===!1&&await _()}),(d,l)=>{const $=Ce,m=lt;return a(),v("div",{ref_key:"rootEl",ref:B,class:"flex flex-col gap-8"},[(a(!0),v(ne,null,ke(s(u),b=>(a(),v("div",{key:b.id,ref_for:!0,ref:G=>x(G,b),class:"relative"},[!s(g)&&s(C).userRole=="editor"?(a(),v("div",wt,[Ye((a(),z($,{type:"button",class:"w-9 h-9 mr-8 mt-2",rounded:"",severity:"secondary",variant:"text",onClick:G=>s(S)(b.id)},{default:T(()=>l[0]||(l[0]=[f("span",{class:"material-icons"},"restart_alt",-1)])),_:2},1032,["onClick"])),[[m,"Reset step",void 0,{left:!0}]])])):P("",!0),h(yt,{group:b,loading:s(g)&&b.id==s(u)[s(u).length-1].id},null,8,["group","loading"])]))),128)),f("div",{style:we({height:n.value+"px"})},null,4)],512)}}}),_t={key:0,class:"flex justify-center items-center w-full min-h-24 px-8 gap-8"},xt={key:1},kt={key:"correct",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-green-100"},Ct={class:"text-lg font-bold flex items-center gap-2"},St={key:"incorrect",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-red-100"},$t={key:"no-submit",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8"},Lt={key:"try-again",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-gray-50"},At={class:"text-lg font-bold flex items-center gap-2"},Et={key:2},Bt={key:"correct",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-green-100"},It={class:"text-lg font-bold flex items-center gap-2"},Pt={key:1,class:"flex justify-center items-center w-full min-h-24 px-8 gap-8"},Ut=ae({__name:"NavigationBar",setup(A){const t=ue(),{isSubmitLoading:u,groupStatus:g,isGroupLoading:i,submitExist:S,correct:C,submitEnabled:B}=te(t),{submitGroup:y,nextGroup:n,tryAgain:w,finishLesson:_}=t;return(x,d)=>{const l=Ce;return a(),v(ne,null,[s(g)=="check"?(a(),v("div",_t,[h(l,{label:x.$t("check").toUpperCase(),icon:"pi pi-check","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(y),loading:s(u),disabled:s(u)||!s(B)},null,8,["label","onClick","loading","disabled"])])):P("",!0),s(g)=="continue"?(a(),v("div",xt,[h(be,{name:"pop",appear:"",mode:"out-in"},{default:T(()=>[s(S)&&s(C)?(a(),v("div",kt,[f("div",Ct,[d[0]||(d[0]=f("span",{class:"text-3xl"},"🎉",-1)),me(" "+he(x.$t("correct"))+"! ",1)]),h(l,{label:x.$t("continue").toUpperCase(),icon:"pi pi-arrow-right","icon-pos":"right",size:"large",class:"w-56 rounded-3xl",onClick:s(n),loading:s(i),disabled:s(i)},null,8,["label","onClick","loading","disabled"])])):s(S)&&!s(C)?(a(),v("div",St,[h(l,{label:x.$t("continue").toUpperCase(),icon:"pi pi-arrow-right","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(n),loading:s(i),disabled:s(i)},null,8,["label","onClick","loading","disabled"])])):(a(),v("div",$t,[h(l,{label:x.$t("continue").toUpperCase(),icon:"pi pi-arrow-right","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(n),loading:s(i),disabled:s(i)},null,8,["label","onClick","loading","disabled"])]))]),_:1})])):P("",!0),h(be,{name:"shake",appear:""},{default:T(()=>[s(g)=="try-again"?(a(),v("div",Lt,[f("div",At,[d[1]||(d[1]=f("span",{class:"text-3xl"},"⚠️",-1)),me(" "+he(x.$t("incorrect"))+"! ",1)]),h(l,{label:x.$t("tryAgain").toUpperCase(),icon:"pi pi-arrow-right","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(w)},null,8,["label","onClick"])])):P("",!0)]),_:1}),s(g)=="finish"?(a(),v("div",Et,[s(S)&&s(C)?(a(),v("div",Bt,[f("div",It,[d[2]||(d[2]=f("span",{class:"text-3xl"},"🎉",-1)),me(" "+he(x.$t("correct"))+"!",1)]),h(l,{label:x.$t("finish").toUpperCase(),icon:"pi pi-arrow-right","icon-pos":"right",size:"large",class:"w-56 rounded-3xl",onClick:s(_),loading:s(i),disabled:s(i)},null,8,["label","onClick","loading","disabled"])])):(a(),v("div",Pt,[h(l,{label:x.$t("finish").toUpperCase(),icon:"pi pi-arrow-right","icon-pos":"right",size:"large",class:"w-56 rounded-3xl",onClick:s(_)},null,8,["label","onClick"])]))])):P("",!0)],64)}}}),zt=dt(Ut,[["__scopeId","data-v-4f5f4e6c"]]),Dt={key:0,class:"h-screen bg-white flex flex-col items-center overflow-hidden relative"},Tt={class:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 max-w-[1920px] mx-auto"},Gt={class:"flex justify-between items-center w-full min-h-16 px-8 gap-8"},Rt={class:"flex items-center gap-4"},jt={key:0,class:"flex flex-grow max-w-screen-lg items-center gap-4"},Vt={class:"flex-1 overflow-y-auto mt-16 mb-24 w-full"},Mt={key:1,class:"flex justify-center"},qt={key:2},Nt={key:3,class:"fixed top-32 right-0 pl-2 pr-4 py-2 bg-white rounded-tl-lg rounded-bl-lg shadow-md z-50 border border-gray-200 flex flex-col items-center gap-4"},Ht={key:4,class:"fixed top-20 right-4 bg-white rounded-lg shadow-md z-50 border border-gray-200 p-4 min-w-64"},Wt={class:"flex items-center gap-3 mb-2"},Ft={class:"fixed bottom-0 left-0 right-0 z-50 bg-transparent shadow-md max-w-[1920px] mx-auto"},Ot={key:0,class:"absolute left-0 top-1/2 -translate-y-1/2"},Kt={class:"relative h-full"},Yt={class:"absolute -right-0 top-1/2 -translate-y-1/2 w-5 h-10 z-10"},Zt={key:1,class:"absolute right-0 top-1/2 -translate-y-1/2"},Jt={class:"relative h-full"},Qt={class:"absolute -left-0 top-1/2 -translate-y-1/2 w-5 h-10 z-10"},Xt={key:0,class:"h-screen flex flex-col items-center justify-center overflow-hidden gap-10"},Ss=ae({__name:"LessonPage",setup(A){const t=Ae(),u=et(),g=Je(),i=xe(),S=Ie(),{lang:C}=te(S);se(C,async(D,o)=>{D!==o&&n.value&&await H(Number(t.params.id),(t.query.route_id??"").toString())});const B=ue(),{isLessonLoading:y,selectedLesson:n,pageProgress:w,groupStatus:_,emulatorID:x,neededModules:d,slots:l,pibodyDrawerVisible:$,codeDrawerVisible:m,showPibody:b,showCode:G,isPreloadingUnits:U,preloadingProgress:K}=te(B),{loadLessonById:H,runCodePressed:Y,saveStudentIdeState:Z,pageBack:ce}=B;function de(){g.require({...st,header:"Close lesson",message:"Are you sure you want to exit lesson. All progress will be lost!",acceptProps:{label:"Close",severity:"danger"},accept:()=>V()})}function ve(D){var I;const o=((I=n.value)==null?void 0:I.pages.reduce((F,N)=>F+N.groups.length,0))||1;return D/o*100}function V(){i.userRole=="editor"?t.query.route_id&&t.query.route_id!=""?u.push(`/v2/route/${t.query.route_id}/edit`):u.push("/v2/routes"):t.query.route_id&&t.query.route_id!=""?u.push("/v2/route/"+t.query.route_id):u.push("/v2/home")}se(l,()=>{le({slots:l.value})});const le=Be(D=>{Z(D)},1e3,{maxWait:5e3});function pe(D){le({slots:l.value})}const M=p(window.innerWidth),q=p(16);function W(){if(M.value=window.innerWidth,M.value<=1300){q.value=16;return}const o=452-(M.value-1024)/2;q.value=o>16?o:16}Ee(()=>{_.value="continue",W(),H(Number(t.params.id),(t.query.route_id??"").toString()),window.addEventListener("resize",W)}),Qe(()=>{window.removeEventListener("resize",W)});const oe=j(()=>M.value<=1920?{}:"calc((-100vw + 1920px) / 2)"),J=()=>{u.push(`${t.path}/edit`)};return(D,o)=>{const I=Ce,F=We,N=_e,ie=He;return a(),v(ne,null,[s(_)!="completed"?(a(),v("div",Dt,[f("div",Tt,[f("div",Gt,[f("div",Rt,[h(I,{icon:"pi pi-times",variant:"text",severity:"contrast",onClick:de})]),s(n)?(a(),v("div",jt,[(a(!0),v(ne,null,ke(s(n).pages,(L,re)=>(a(),v("div",{key:re,class:"h-full",style:we({width:ve(L.groups.length)+"%"})},[h(F,{value:s(w)[re]/L.groups.length*100,"show-value":!1,class:"w-full rounded-full h-3"},null,8,["value"])],4))),128))])):P("",!0),o[9]||(o[9]=f("div",{class:"w-10"},null,-1))])]),f("div",Vt,[f("div",{class:"w-full h-full max-w-screen-lg mx-auto py-8",style:we({paddingLeft:q.value+"px",paddingRight:q.value+"px"})},[s(y)?(a(),z(N,{key:0,class:"flex justify-center"})):s(n)?(a(),v("div",qt,[h(bt,{pages:s(n).pages},null,8,["pages"])])):(a(),v("div",Mt,"No lesson found")),s(i).userRole=="editor"?(a(),v("div",Nt,[h(s(tt)),h(I,{icon:"pi pi-pencil",variant:"text",severity:"contrast",onClick:J}),h(I,{variant:"text",severity:"contrast",onClick:s(ce)},{default:T(()=>o[10]||(o[10]=[f("span",{class:"material-icons"},"swipe_left_alt",-1)])),_:1},8,["onClick"])])):P("",!0),s(U)?(a(),v("div",Ht,[f("div",Wt,[h(N,{style:{width:"20px",height:"20px"}}),o[11]||(o[11]=f("span",{class:"text-sm font-medium"},"Preloading units...",-1))]),h(F,{value:s(K),"show-value":!0,class:"h-2"},null,8,["value"])])):P("",!0)],4)]),f("div",Ft,[h(zt)]),s(b)?(a(),v("div",Ot,[h(I,{icon:"pi pi-microchip",severity:"secondary",onClick:o[0]||(o[0]=L=>$.value=!0),class:"w-8 rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg mt-16"}),h(ie,{visible:s($),"onUpdate:visible":o[4]||(o[4]=L=>X($)?$.value=L:null),modal:!1,dismissable:!1,closeOnEscape:!1,class:"h-[calc(100vh-64px)] w-fit mt-16",pt:{root:{style:`right: ${oe.value}`}}},{header:T(()=>o[12]||(o[12]=[f("div",null,null,-1)])),container:T(()=>[f("div",Kt,[f("div",Yt,[h(I,{icon:"pi pi-chevron-left",severity:"secondary",onClick:o[1]||(o[1]=L=>$.value=!1),class:"w-5 rounded-tl-lg rounded-bl-lg rounded-tr-none rounded-br-none"})]),(a(),z(s(ot),{id:s(x),key:s(x),slots:s(l),"onUpdate:slots":o[2]||(o[2]=L=>X(l)?l.value=L:null),neededModules:s(d),"onUpdate:neededModules":o[3]||(o[3]=L=>X(d)?d.value=L:null),class:"w-full",horizontal:!1,autoPut:!0},null,8,["id","slots","neededModules"]))])]),_:1},8,["visible","pt"])])):P("",!0),s(G)?(a(),v("div",Zt,[h(I,{icon:"pi pi-code",severity:"secondary",onClick:o[5]||(o[5]=L=>m.value=!0),class:"w-8 rounded-tl-lg rounded-bl-lg rounded-tr-none rounded-br-none mt-16"}),h(ie,{visible:s(m),"onUpdate:visible":o[8]||(o[8]=L=>X(m)?m.value=L:null),header:"Drawer",modal:!1,dismissable:!1,closeOnEscape:!1,position:"right",class:"h-[calc(100vh-64px)] w-[452px] mt-16",pt:{root:{style:`left: ${oe.value}`}}},{header:T(()=>o[13]||(o[13]=[f("div",null,null,-1)])),container:T(()=>[f("div",Jt,[f("div",Qt,[h(I,{icon:"pi pi-chevron-right",severity:"secondary",onClick:o[6]||(o[6]=L=>m.value=!1),class:"w-5 rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg"})]),(a(),z(Xe,null,[(a(),z(s(it),{id:s(x),key:s(x),connectbuttons:s(b),"onUpdate:connectbuttons":o[7]||(o[7]=L=>X(b)?b.value=L:null),onRun:s(Y),onSaveAnswer:pe},null,8,["id","connectbuttons","onRun"]))],1024))])]),_:1},8,["visible","pt"])])):P("",!0)])):P("",!0),h(be,{"enter-active-class":"transition duration-500 ease-out","enter-from-class":"opacity-0 scale-90","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-300 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-90"},{default:T(()=>[s(_)=="completed"?(a(),v("div",Xt,[o[14]||(o[14]=f("div",{class:"text-5xl"},"⚡️",-1)),o[15]||(o[15]=f("div",{class:"flex flex-col items-center"},[f("div",{class:"text-4xl font-bold mb-8"},"Good work!"),f("div",{class:"text-md text-gray-500"},"Keep Learning")],-1)),f("div",null,[h(I,{label:"Continue",class:"rounded-full w-56 text-xl",onClick:V})])])):P("",!0)]),_:1})],64)}}});export{Ss as default};
