import{_ as x,d as b}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BeD_Hhk9.js";import{S as M}from"./SimulationView-BJP59IeO.js";import{e as z,r as U,a4 as k,z as R,o as g,c as h,h as d,i as a,E as y,j as u}from"./index-Cl-EWMmq.js";const V={key:0,class:"flex flex-col w-full"},P={class:"h-full flex flex-col w-full border border-gray-400/50 rounded-xl overflow-hidden"},E={class:"flex-grow overflow-auto"},N={key:1,class:"flex flex-row w-full"},S={class:"flex flex-col w-full border border-gray-400/50 rounded-xl overflow-hidden"},j={class:"h-full flex-grow overflow-auto"},r=!0,$=z({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(B,{emit:_}){var v;const l=B,f=_,s=U(""),t=U([]),n=((v=l.data)==null?void 0:v.neededModules)??[];k(()=>{var e,o,w,p,m;const i=((o=(e=l.state)==null?void 0:e.answer)==null?void 0:o.code)??"";s.value=l.starting||i==""?(w=l.content)==null?void 0:w.starting:i,t.value=((m=(p=l.state)==null?void 0:p.answer)==null?void 0:m.slots)??[]}),R([s,t],()=>{f("save-answer",{code:s.value,slots:t.value})});function c(){f("run")}return(i,e)=>l.horizontal?(g(),h("div",V,[d(a(M),{class:"w-full",slots:t.value,"onUpdate:slots":e[0]||(e[0]=o=>t.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[1]||(e[1]=o=>y(n)?n.value=o:null),id:l.id,horizontal:!0},null,8,["slots","neededModules","id"]),u("div",P,[u("div",E,[d(x,{code:s.value,"onUpdate:code":e[2]||(e[2]=o=>s.value=o),connectbuttons:r,"onUpdate:connectbuttons":e[3]||(e[3]=o=>r=o),id:l.id,onRun:c,class:"w-full h-full"},null,8,["code","id"])]),d(a(b),{id:l.id,class:"max-h-80 border-t"},null,8,["id"])])])):(g(),h("div",N,[u("div",S,[u("div",j,[d(x,{code:s.value,"onUpdate:code":e[4]||(e[4]=o=>s.value=o),connectbuttons:r,"onUpdate:connectbuttons":e[5]||(e[5]=o=>r=o),id:l.id,onRun:c,class:"w-full h-full"},null,8,["code","id"])]),d(a(b),{id:l.id,class:"max-h-80 border-t"},null,8,["id"])]),d(a(M),{class:"max-w-[467px] w-1/2",slots:t.value,"onUpdate:slots":e[6]||(e[6]=o=>t.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[7]||(e[7]=o=>y(n)?n.value=o:null),id:l.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{$ as _};
