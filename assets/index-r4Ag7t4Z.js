import{_ as je,a as Fe,b as Ve,c as Me,s as He}from"./VideoViewer.vue_vue_type_script_setup_true_lang-urZJE5m-.js";import{s as be}from"./index-Dd2QKpoK.js";import{s as qe}from"./index-D32kE3-q.js";import{d as We,u as Oe,r as p,x as _e,e as se,a as R,b as le,o as a,c as v,l as z,h as s,p as B,y as Le,z as ne,i as f,F as ae,k as xe,f as Ee,$ as Ke,a0 as Ye,D as U,g as h,C as ye,_ as Ze,w as ke,j as me,a1 as we,Z as Je,A as Qe,E as ee,K as Xe,v as et}from"./index-B0HcSKKu.js";import{_ as tt,d as st}from"./defaultConfirmDeleteOptions-x5hditp8.js";import{u as $e,c as nt,a as at,b as Ie,T as lt}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BPJf590Q.js";import{S as ot}from"./SimulationView-BLvu_m0M.js";import{_ as it}from"./CodeViewer.vue_vue_type_script_setup_true_lang-BXeSnUrZ.js";import{u as Ae}from"./useLocaleStore-DdhW9mVh.js";import{L as rt}from"./lessonApi-DnoDjubi.js";import{m as ut}from"./mapLessonFromDto-BRb_Xlqa.js";import{U as te}from"./unitApi-Ds_vFrhS.js";import{m as ct}from"./mapUnitFromDto-BRBO9875.js";import{_ as dt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-SP4SowJ0.js";import"./index-BCPszz_v.js";import"./index-Bq3VfYKl.js";import"./index-FY-EDxGa.js";import"./index-JdgGTHHD.js";import"./index-DJLcGN0b.js";import"./index-2m9LW570.js";import"./index-D4PKXE1D.js";import"./index-boxG6XjL.js";import"./language-DYQF8nnT.js";import"./index-9Fhw9YjP.js";async function he(E){const c=new TextEncoder().encode(E),g=await crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(g)).map(k=>k.toString(16).padStart(2,"0")).join("")}function vt(E){let t="",c=!1;for(let g=0;g<E.length;g++){const i=E[g];if(i==="#"&&(c=!0),c)if(i===`
`)c=!1;else continue;i!==" "&&i!=="	"&&i!==`
`&&i!=="\r"&&(t+=i)}return t}function pt(E,t){if(E.length!==t.length)return!1;const c=[...E].sort(),g=[...t].sort();return c.every((i,C)=>i===g[C])}const ue=We("lesson-store",()=>{const E=Oe(),t=p(null),c=p(!1),g=p(!1),i=p(!1),C=p(!1),k=p(!1),I=p(0),y=p(0),n=p([]),b=p(0),x=p(new Map),P=p(new Map),d=p([]),l=p("continue"),S=p(!1),m=p(!1),_=p(!1),D=p(!0),T=p(""),K=p(null),M=p(null),Y=p([]),Z=p([]),ce=_e(),de=Ae(),{lang:ve}=se(de),j=p(void 0),oe=R(()=>{var e;return _.value&&(((e=K.value)==null?void 0:e.modulesWerePut)??!0)&&D.value});async function pe(e,r){try{c.value=!0,x.value.clear(),P.value.clear(),j.value=ce.userRole==="editor"?ve.value:void 0;const{data:u}=await rt.getLessonById(e,r,j.value);t.value=ut(u),t.value.stage=="published"&&F()}catch(u){E.add({severity:"error",summary:u.response.data.error,life:2e3})}finally{c.value=!1}}async function F(){if(t.value)try{k.value=!0,I.value=0,x.value.clear();const e=[];t.value.pages.forEach(w=>{w.groups.forEach($=>{$.units.forEach(X=>{e.push({id:X.id,lessonId:t.value.id})})})});const r=e.length,u=5;for(let w=0;w<e.length;w+=u){const X=e.slice(w,w+u).map(async({id:fe,lessonId:Re})=>{try{const{data:ge}=await te.getUnitByIdandLessonId(fe,Re,j.value);x.value.set(fe,ge)}catch(ge){console.warn(`Failed to preload unit ${fe}:`,ge)}});await Promise.all(X),I.value=Math.round(Math.min(w+u,r)/r*100)}}catch(e){console.error("Error preloading units:",e)}finally{k.value=!1}}async function V(e,r){if(x.value.has(e))return x.value.get(e);try{g.value=!0;const{data:u}=await te.getUnitByIdandLessonId(e,r,j.value);return x.value.set(e,u),u}catch(u){E.add({severity:"error",summary:u.response.data.error,life:2e3})}finally{g.value=!1}}async function H(){if(t.value!=null){i.value=!0,n.value=[],y.value=0,b.value=0,d.value=[],T.value="",Z.value=[],m.value=!1;for(let e=0;e<t.value.pages.length;e++)d.value.push(0);l.value="continue",q(),n.value.push(t.value.pages[y.value].groups[b.value]),await J(t.value.id),i.value=!1}}function ie(e,r){let u="";if(T.value==""||r.content.starting!=""){u=`emulator-${r.id}`;const w=r.content.starting;M.value=$e(u),M.value.setCode(w)}T.value=u??T.value,e=="pibody"&&(K.value=at(T.value),Y.value=r.data.neededModules,K.value.addNeededModules(Y.value),u!=""&&(Z.value=[]))}async function J(e){_.value=!1,S.value=!1;for(let r=0;r<n.value[b.value].units.length;r++){const u=n.value[b.value].units[r];["options","open","code","pibody"].includes(u.unitType)&&(l.value="check",S.value=!0);const w=await V(u.id,e);if(w){const $=ct(w);n.value[b.value].units[r].content=$==null?void 0:$.content,n.value[b.value].units[r].data=$==null?void 0:$.data,n.value[b.value].units[r].studentState=$==null?void 0:$.studentState,["code","pibody"].includes(u.unitType)&&(_.value=!0,$.content.answer==""&&$.data.tests.lenght==0||(D.value=!1),ie(u.unitType,$))}}l.value=="continue"&&await N()}async function N(){if(t.value!=null)try{C.value=!0,m.value=!1;for(const e of n.value[n.value.length-1].units){if(P.value.set(e.id,e.studentState.answer),["code","pibody"].includes(e.unitType)){const r=$e(T.value).code.value;if(e.data.tests.length>0){const u=await nt(T.value,r,e.data.tests,e.data.includedCommands);m.value=u.correct}else if(!e.content.hashed_answer)m.value=!0;else{const u=vt(r),w=await he(u);m.value=e.content.hashed_answer===w}}else if(e.unitType=="open"){const u=String(e.studentState.answer.open??"").replace(/ /g,"").toLowerCase(),w=await he(u);m.value=e.content.hashed_answer===w}else if(e.unitType=="options"){const r=e.studentState.answer.options,u=[];for(const w of r)u.push(await he(w));m.value=pt(e.content.hashed_answer,u)}else m.value=!0;if(m.value==!1)break}n.value[n.value.length-1].units.length||(m.value=!0),m.value?(d.value[y.value]++,b.value>=t.value.pages[y.value].groups.length-1?y.value<t.value.pages.length-1?l.value="continue":l.value="finish":l.value="continue"):l.value="try-again"}finally{C.value=!1}}async function o(){if(t.value!=null){if(b.value>=t.value.pages[y.value].groups.length-1){await Se(),Ce();return}i.value=!0,b.value++,n.value.push(t.value.pages[y.value].groups[b.value]),await J(t.value.id),i.value=!1}}async function A(e){const r=n.value[n.value.length-1].id;l.value="continue",d.value[y.value]--,b.value--,n.value.pop(),r==e?y.value==0&&n.value.length==0?await H():await o():await A(e)}function q(){if(!t.value)return;let e=0;for(const r of t.value.pages)if(r.groups.every(w=>w.units.every($=>$.studentStatus==="completed")))e!=t.value.pages.length-1&&(d.value[e]=r.groups.length,e++);else break;y.value=e}function W(){y.value!=0&&(d.value[y.value]=0,d.value[y.value-1]=0,y.value-=2,Ce())}function Q(e,r){if(t.value!=null){for(const[u,w]of n.value.entries())for(const[$,X]of w.units.entries())if(X.id==e){n.value[u].units[$].studentState.answer=r;break}}}async function L(){t.value!=null&&(l.value="check")}async function re(){t.value!=null&&(await Se(),l.value="completed")}function Be(){x.value.clear(),I.value=0,k.value=!1}async function Ce(){t.value!=null&&(i.value=!0,y.value++,n.value=[],b.value=0,l.value="continue",n.value.push(t.value.pages[y.value].groups[b.value]),await J(t.value.id),i.value=!1)}function Pe(e){_.value=e}function Te(){D.value=!0}async function ze(e){if(T.value=="")return;const r=Number(T.value.split("-")[1]);e.code=M.value.code,Q(r,e),await te.saveUnitByIdandLessonId(r,t.value.id,{answer:e})}async function Se(){if(i.value=!0,t.value==null)return;const e=Array.from(P.value.entries()).map(([u,w])=>({id:u,student_answer:w})),{data:r}=await te.submitUnitsByLessonId(t.value.id,e);m.value=r.correct,P.value=new Map,i.value=!1}const G=R(()=>t.value?t.value.pages[y.value]??null:null),O=R(()=>G.value?G.value.groups[b.value]??null:null),Ne=R({get:()=>{var e;return((e=O.value)==null?void 0:e.pibodyDrawerVisible)??!1},set:e=>{O.value&&(O.value.pibodyDrawerVisible=e)}}),Ue=R({get:()=>{var e;return((e=O.value)==null?void 0:e.codeDrawerVisible)??!1},set:e=>{O.value&&(O.value.codeDrawerVisible=e)}}),De=R({get:()=>{var e;return((e=G.value)==null?void 0:e.showPibody)??!1},set:e=>{G.value&&(G.value.showPibody=e)}}),Ge=R({get:()=>{var e;return((e=G.value)==null?void 0:e.showCode)??!1},set:e=>{G.value&&(G.value.showCode=e)}});return{selectedLesson:t,isLessonLoading:c,isUnitLoading:g,groups:n,groupIndex:b,isGroupLoading:i,isSubmitLoading:C,isPreloadingUnits:k,preloadingProgress:I,groupStatus:l,submitExist:S,correct:m,submitEnabled:oe,pageProgress:d,emulatorID:T,neededModules:Y,slots:Z,pibodyDrawerVisible:Ne,codeDrawerVisible:Ue,showPibody:De,showCode:Ge,setSubmitable:Pe,loadLessonById:pe,loadUnitByIdandLessonId:V,preloadAllUnits:F,clearUnitsCache:Be,loadInitialGroup:H,submitGroup:N,nextGroup:o,saveAnswer:Q,tryAgain:L,finishLesson:re,runCodePressed:Te,saveStudentIdeState:ze,resetGroup:A,pageBack:W}}),ft={key:1,class:"flex-grow px-4 py-2"},gt=le({__name:"UnitCard",props:{unit:{},loading:{type:Boolean}},setup(E){const t=E,c=Le(),g=ue(),{saveAnswer:i,setSubmitable:C}=g;function k(n){t.unit.unitType=="options"?C(n.options.length>0):t.unit.unitType=="open"&&C(n.open.length>0),i(t.unit.id,n),I(n)}const I=Ie(n=>{y(n)},1e3,{maxWait:5e3});async function y(n){await te.saveUnitByIdandLessonId(t.unit.id,Number(c.params.id),{answer:n})}return(n,b)=>{const x=be;return a(),v("div",null,[n.loading?(a(),z(x,{key:0,class:"flex justify-center items-center w-10 h-full"})):(a(),v("div",ft,[t.unit.unitType=="article"?(a(),z(s(je),{key:0,article:t.unit.content},null,8,["article"])):t.unit.unitType=="options"?(a(),z(s(Fe),{key:1,"options-data":t.unit.content,state:t.unit.studentState,onSaveAnswer:k},null,8,["options-data","state"])):t.unit.unitType=="open"?(a(),z(s(Ve),{key:2,state:t.unit.studentState,onSaveAnswer:k},null,8,["state"])):t.unit.unitType=="video"?(a(),z(s(Me),{key:3,video:t.unit.content},null,8,["video"])):B("",!0)]))])}}}),mt={key:1,class:"flex flex-col h-full w-full"},ht={class:"flex-grow flex flex-col gap-4 px-4 py-2"},yt=le({__name:"GroupCard",props:{group:{},loading:{type:Boolean}},setup(E){const t=E,c=p(null);return ne(()=>t.loading,g=>{g===!1&&c.value&&requestAnimationFrame(()=>{var i;(i=c.value)==null||i.scrollIntoView({behavior:"smooth",block:"start"})})}),(g,i)=>{const C=be;return a(),v("div",{ref_key:"groupRef",ref:c},[g.loading?(a(),z(C,{key:0,class:"flex justify-center items-center w-10 h-full"})):(a(),v("div",mt,[f("div",ht,[(a(!0),v(ae,null,xe(g.group.units,k=>(a(),z(gt,{key:k.id,unit:k},null,8,["unit"]))),128))])]))],512)}}}),wt={key:0,class:"absolute right-0"},bt=le({__name:"UnitsView",props:{pages:{}},setup(E){const t=ue(),{groups:c,isGroupLoading:g}=se(t),{loadInitialGroup:i,resetGroup:C}=t,k=_e(),I=p(null),y=p(null),n=p(0);function b(d){let l=d;for(;l&&l.parentElement;){const S=l.parentElement,_=getComputedStyle(S).overflowY;if(_==="auto"||_==="scroll")return S;l=S}return null}async function x(){await Ze();const d=b(I.value),l=y.value;if(!d||!l){n.value=0;return}const S=d.clientHeight,m=l.getBoundingClientRect().height,_=Math.max(0,S-m);n.value=_}function P(d,l){var _;const S=(_=c.value[c.value.length-1])==null?void 0:_.id;let m=null;d&&(d instanceof Element?m=d:d.$el instanceof Element&&(m=d.$el)),y.value=l.id===S?m:null}return Ee(()=>{i(),x(),window.addEventListener("resize",x)}),Ke(()=>{window.removeEventListener("resize",x)}),ne(()=>c.value.length,async()=>{await x()}),ne(()=>g.value,async(d,l)=>{l===!0&&d===!1&&await x()}),(d,l)=>{const S=ke,m=lt;return a(),v("div",{ref_key:"rootEl",ref:I,class:"flex flex-col gap-8"},[(a(!0),v(ae,null,xe(s(c),_=>(a(),v("div",{key:_.id,ref_for:!0,ref:D=>P(D,_),class:"relative"},[!s(g)&&s(k).userRole=="editor"?(a(),v("div",wt,[Ye((a(),z(S,{type:"button",class:"w-9 h-9 mr-8 mt-2",rounded:"",severity:"secondary",variant:"text",onClick:D=>s(C)(_.id)},{default:U(()=>l[0]||(l[0]=[f("span",{class:"material-icons"},"restart_alt",-1)])),_:2},1032,["onClick"])),[[m,"Reset step",void 0,{left:!0}]])])):B("",!0),h(yt,{group:_,loading:s(g)&&_.id==s(c)[s(c).length-1].id},null,8,["group","loading"])]))),128)),f("div",{style:ye({height:n.value+"px"})},null,4)],512)}}}),_t={key:0,class:"flex justify-center items-center w-full min-h-24 px-8 gap-8"},xt={key:1},kt={key:"correct",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-green-100"},Ct={key:"incorrect",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-red-100"},St={key:"no-submit",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8"},$t={key:"try-again",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-gray-50"},Lt={key:2},Et={key:"correct",class:"flex justify-center items-center w-full min-h-24 px-8 gap-8 bg-green-100"},It={key:1,class:"flex justify-center items-center w-full min-h-24 px-8 gap-8"},At=le({__name:"NavigationBar",setup(E){const t=ue(),{isSubmitLoading:c,groupStatus:g,isGroupLoading:i,submitExist:C,correct:k,submitEnabled:I}=se(t),{submitGroup:y,nextGroup:n,tryAgain:b,finishLesson:x}=t;return(P,d)=>{const l=ke;return a(),v(ae,null,[s(g)=="check"?(a(),v("div",_t,[h(l,{label:"CHECK",icon:"pi pi-check","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(y),loading:s(c),disabled:s(c)||!s(I)},null,8,["onClick","loading","disabled"])])):B("",!0),s(g)=="continue"?(a(),v("div",xt,[h(we,{name:"pop",appear:"",mode:"out-in"},{default:U(()=>[s(C)&&s(k)?(a(),v("div",kt,[d[0]||(d[0]=f("div",{class:"text-lg font-bold flex items-center gap-2"},[f("span",{class:"text-3xl"},"🎉"),me(" Correct!")],-1)),h(l,{label:"CONTINUE",icon:"pi pi-arrow-right","icon-pos":"right",size:"large",class:"w-56 rounded-3xl",onClick:s(n),loading:s(i),disabled:s(i)},null,8,["onClick","loading","disabled"])])):s(C)&&!s(k)?(a(),v("div",Ct,[h(l,{label:"CONTINUE",icon:"pi pi-arrow-right","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(n),loading:s(i),disabled:s(i)},null,8,["onClick","loading","disabled"])])):(a(),v("div",St,[h(l,{label:"CONTINUE",icon:"pi pi-arrow-right","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(n),loading:s(i),disabled:s(i)},null,8,["onClick","loading","disabled"])]))]),_:1})])):B("",!0),h(we,{name:"shake",appear:""},{default:U(()=>[s(g)=="try-again"?(a(),v("div",$t,[d[1]||(d[1]=f("div",{class:"text-lg font-bold flex items-center gap-2"},[f("span",{class:"text-3xl"},"⚠️"),me(" Incorrect!")],-1)),h(l,{label:"TRY AGAIN",icon:"pi pi-arrow-right","icon-pos":"right",size:"large",severity:"contrast",class:"w-56 rounded-3xl",onClick:s(b)},null,8,["onClick"])])):B("",!0)]),_:1}),s(g)=="finish"?(a(),v("div",Lt,[s(C)&&s(k)?(a(),v("div",Et,[d[2]||(d[2]=f("div",{class:"text-lg font-bold flex items-center gap-2"},[f("span",{class:"text-3xl"},"🎉"),me(" Correct!")],-1)),h(l,{label:"FINISH",icon:"pi pi-arrow-right","icon-pos":"right",size:"large",class:"w-56 rounded-3xl",onClick:s(x),loading:s(i),disabled:s(i)},null,8,["onClick","loading","disabled"])])):(a(),v("div",It,[h(l,{label:"FINISH",icon:"pi pi-arrow-right","icon-pos":"right",size:"large",class:"w-56 rounded-3xl",onClick:s(x)},null,8,["onClick"])]))])):B("",!0)],64)}}}),Bt=dt(At,[["__scopeId","data-v-fdc42d8d"]]),Pt={key:0,class:"h-screen bg-white flex flex-col items-center overflow-hidden relative"},Tt={class:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 max-w-[1920px] mx-auto"},zt={class:"flex justify-between items-center w-full min-h-16 px-8 gap-8"},Nt={class:"flex items-center gap-4"},Ut={key:0,class:"flex flex-grow max-w-screen-lg items-center gap-4"},Dt={class:"flex-1 overflow-y-auto mt-16 mb-24 w-full"},Gt={key:1,class:"flex justify-center"},Rt={key:2},jt={key:3,class:"fixed top-32 right-0 pl-2 pr-4 py-2 bg-white rounded-tl-lg rounded-bl-lg shadow-md z-50 border border-gray-200 flex flex-col items-center gap-4"},Ft={key:4,class:"fixed top-20 right-4 bg-white rounded-lg shadow-md z-50 border border-gray-200 p-4 min-w-64"},Vt={class:"flex items-center gap-3 mb-2"},Mt={class:"fixed bottom-0 left-0 right-0 z-50 bg-transparent shadow-md max-w-[1920px] mx-auto"},Ht={key:0,class:"absolute left-0 top-1/2 -translate-y-1/2"},qt={class:"relative h-full"},Wt={class:"absolute -right-0 top-1/2 -translate-y-1/2 w-5 h-10 z-10"},Ot={key:1,class:"absolute right-0 top-1/2 -translate-y-1/2"},Kt={class:"relative h-full"},Yt={class:"absolute -left-0 top-1/2 -translate-y-1/2 w-5 h-10 z-10"},Zt={key:0,class:"h-screen flex flex-col items-center justify-center overflow-hidden gap-10"},xs=le({__name:"LessonPage",setup(E){const t=Le(),c=et(),g=Je(),i=_e(),C=Ae(),{lang:k}=se(C);ne(k,async(N,o)=>{N!==o&&n.value&&await M(Number(t.params.id),(t.query.route_id??"").toString())});const I=ue(),{isLessonLoading:y,selectedLesson:n,pageProgress:b,groupStatus:x,emulatorID:P,neededModules:d,slots:l,pibodyDrawerVisible:S,codeDrawerVisible:m,showPibody:_,showCode:D,isPreloadingUnits:T,preloadingProgress:K}=se(I),{loadLessonById:M,runCodePressed:Y,saveStudentIdeState:Z,pageBack:ce}=I;function de(){g.require({...st,header:"Close lesson",message:"Are you sure you want to exit lesson. All progress will be lost!",acceptProps:{label:"Close",severity:"danger"},accept:()=>j()})}function ve(N){var A;const o=((A=n.value)==null?void 0:A.pages.reduce((q,W)=>q+W.groups.length,0))||1;return N/o*100}function j(){i.userRole=="editor"?t.query.route_id&&t.query.route_id!=""?c.push(`/v2/route/${t.query.route_id}/edit`):c.push("/v2/routes"):t.query.route_id&&t.query.route_id!=""?c.push("/v2/route/"+t.query.route_id):c.push("/v2/home")}ne(l,()=>{oe({slots:l.value})});const oe=Ie(N=>{Z(N)},1e3,{maxWait:5e3});function pe(N){oe({slots:l.value})}const F=p(window.innerWidth),V=p(16);function H(){if(F.value=window.innerWidth,F.value<=1300){V.value=16;return}const o=452-(F.value-1024)/2;V.value=o>16?o:16}Ee(()=>{x.value="continue",H(),M(Number(t.params.id),(t.query.route_id??"").toString()),window.addEventListener("resize",H)}),Qe(()=>{window.removeEventListener("resize",H)});const ie=R(()=>F.value<=1920?{}:"calc((-100vw + 1920px) / 2)"),J=()=>{c.push(`${t.path}/edit`)};return(N,o)=>{const A=ke,q=qe,W=be,Q=He;return a(),v(ae,null,[s(x)!="completed"?(a(),v("div",Pt,[f("div",Tt,[f("div",zt,[f("div",Nt,[h(A,{icon:"pi pi-times",variant:"text",severity:"contrast",onClick:de})]),s(n)?(a(),v("div",Ut,[(a(!0),v(ae,null,xe(s(n).pages,(L,re)=>(a(),v("div",{key:re,class:"h-full",style:ye({width:ve(L.groups.length)+"%"})},[h(q,{value:s(b)[re]/L.groups.length*100,"show-value":!1,class:"w-full rounded-full h-3"},null,8,["value"])],4))),128))])):B("",!0),o[9]||(o[9]=f("div",{class:"w-10"},null,-1))])]),f("div",Dt,[f("div",{class:"w-full h-full max-w-screen-lg mx-auto py-8",style:ye({paddingLeft:V.value+"px",paddingRight:V.value+"px"})},[s(y)?(a(),z(W,{key:0,class:"flex justify-center"})):s(n)?(a(),v("div",Rt,[h(bt,{pages:s(n).pages},null,8,["pages"])])):(a(),v("div",Gt,"No lesson found")),s(i).userRole=="editor"?(a(),v("div",jt,[h(s(tt)),h(A,{icon:"pi pi-pencil",variant:"text",severity:"contrast",onClick:J}),h(A,{variant:"text",severity:"contrast",onClick:s(ce)},{default:U(()=>o[10]||(o[10]=[f("span",{class:"material-icons"},"swipe_left_alt",-1)])),_:1},8,["onClick"])])):B("",!0),s(T)?(a(),v("div",Ft,[f("div",Vt,[h(W,{style:{width:"20px",height:"20px"}}),o[11]||(o[11]=f("span",{class:"text-sm font-medium"},"Preloading units...",-1))]),h(q,{value:s(K),"show-value":!0,class:"h-2"},null,8,["value"])])):B("",!0)],4)]),f("div",Mt,[h(Bt)]),s(_)?(a(),v("div",Ht,[h(A,{icon:"pi pi-microchip",severity:"secondary",onClick:o[0]||(o[0]=L=>S.value=!0),class:"w-8 rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg mt-16"}),h(Q,{visible:s(S),"onUpdate:visible":o[4]||(o[4]=L=>ee(S)?S.value=L:null),modal:!1,dismissable:!1,closeOnEscape:!1,class:"h-[calc(100vh-64px)] w-fit mt-16",pt:{root:{style:`right: ${ie.value}`}}},{header:U(()=>o[12]||(o[12]=[f("div",null,null,-1)])),container:U(()=>[f("div",qt,[f("div",Wt,[h(A,{icon:"pi pi-chevron-left",severity:"secondary",onClick:o[1]||(o[1]=L=>S.value=!1),class:"w-5 rounded-tl-lg rounded-bl-lg rounded-tr-none rounded-br-none"})]),(a(),z(s(ot),{id:s(P),key:s(P),slots:s(l),"onUpdate:slots":o[2]||(o[2]=L=>ee(l)?l.value=L:null),neededModules:s(d),"onUpdate:neededModules":o[3]||(o[3]=L=>ee(d)?d.value=L:null),class:"w-full",horizontal:!1,autoPut:!0},null,8,["id","slots","neededModules"]))])]),_:1},8,["visible","pt"])])):B("",!0),s(D)?(a(),v("div",Ot,[h(A,{icon:"pi pi-code",severity:"secondary",onClick:o[5]||(o[5]=L=>m.value=!0),class:"w-8 rounded-tl-lg rounded-bl-lg rounded-tr-none rounded-br-none mt-16"}),h(Q,{visible:s(m),"onUpdate:visible":o[8]||(o[8]=L=>ee(m)?m.value=L:null),header:"Drawer",modal:!1,dismissable:!1,closeOnEscape:!1,position:"right",class:"h-[calc(100vh-64px)] w-[452px] mt-16",pt:{root:{style:`left: ${ie.value}`}}},{header:U(()=>o[13]||(o[13]=[f("div",null,null,-1)])),container:U(()=>[f("div",Kt,[f("div",Yt,[h(A,{icon:"pi pi-chevron-right",severity:"secondary",onClick:o[6]||(o[6]=L=>m.value=!1),class:"w-5 rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg"})]),(a(),z(Xe,null,[(a(),z(s(it),{id:s(P),key:s(P),connectbuttons:s(_),"onUpdate:connectbuttons":o[7]||(o[7]=L=>ee(_)?_.value=L:null),onRun:s(Y),onSaveAnswer:pe},null,8,["id","connectbuttons","onRun"]))],1024))])]),_:1},8,["visible","pt"])])):B("",!0)])):B("",!0),h(we,{"enter-active-class":"transition duration-500 ease-out","enter-from-class":"opacity-0 scale-90","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-300 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-90"},{default:U(()=>[s(x)=="completed"?(a(),v("div",Zt,[o[14]||(o[14]=f("div",{class:"text-5xl"},"⚡️",-1)),o[15]||(o[15]=f("div",{class:"flex flex-col items-center"},[f("div",{class:"text-4xl font-bold mb-8"},"Good work!"),f("div",{class:"text-md text-gray-500"},"Keep Learning")],-1)),f("div",null,[h(A,{label:"Continue",class:"rounded-full w-56 text-xl",onClick:j})])])):B("",!0)]),_:1})],64)}}});export{xs as default};
