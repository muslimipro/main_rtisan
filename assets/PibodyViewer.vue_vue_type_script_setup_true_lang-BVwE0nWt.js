import{_ as m,d as x}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BJ5cz7py.js";import{S as b}from"./SimulationView-CmKqmQRB.js";import{b as k,r as M,ab as z,V as P,o as U,c as B,g as d,h as a,W as g,i as y}from"./index-B0nxH1Il.js";const _={key:0,class:"flex flex-col w-full"},N={class:"h-[500px] flex flex-col w-full",style:{border:"0.1px solid #808080",borderRadius:"12px",overflow:"hidden"}},S={key:1,class:"flex flex-row w-full"},h={class:"flex flex-col w-full"},u=!0,T=k({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(R,{emit:V}){var p;const t=R,r=V,s=M(""),l=M([]),n=((p=t.data)==null?void 0:p.neededModules)??[];z(()=>{var e,o,c,v,w;const i=((o=(e=t.state)==null?void 0:e.answer)==null?void 0:o.code)??"";s.value=t.starting||i==""?(c=t.content)==null?void 0:c.starting:i,l.value=((w=(v=t.state)==null?void 0:v.answer)==null?void 0:w.slots)??[]}),P([s,l],()=>{r("save-answer",{code:s.value,slots:l.value})});function f(){r("run")}return(i,e)=>t.horizontal?(U(),B("div",_,[d(a(b),{class:"w-full",slots:l.value,"onUpdate:slots":e[0]||(e[0]=o=>l.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[1]||(e[1]=o=>g(n)?n.value=o:null),id:t.id,horizontal:!0},null,8,["slots","neededModules","id"]),y("div",N,[d(m,{code:s.value,"onUpdate:code":e[2]||(e[2]=o=>s.value=o),connectbuttons:u,"onUpdate:connectbuttons":e[3]||(e[3]=o=>u=o),id:t.id,onRun:f},null,8,["code","id"]),d(a(x),{id:t.id,class:"flex-grow max-h-40"},null,8,["id"])])])):(U(),B("div",S,[y("div",h,[d(m,{code:s.value,"onUpdate:code":e[4]||(e[4]=o=>s.value=o),connectbuttons:u,"onUpdate:connectbuttons":e[5]||(e[5]=o=>u=o),id:t.id,onRun:f},null,8,["code","id"]),d(a(x),{id:t.id,class:"flex-grow max-h-96"},null,8,["id"])]),d(a(b),{class:"max-w-[467px] w-1/2",slots:l.value,"onUpdate:slots":e[6]||(e[6]=o=>l.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[7]||(e[7]=o=>g(n)?n.value=o:null),id:t.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{T as _};
