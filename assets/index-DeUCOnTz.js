import{s as B}from"./index-CsE7fwuf.js";import{d as T,u as L,r as h,b as w,o as s,c as o,i as t,t as m,l as R,p as v,n as k,g as f,h as l,v as I,e as P,f as j,F as _,k as x,y as S}from"./index-CRqy2v5g.js";import{_ as C}from"./MainHeader.vue_vue_type_script_setup_true_lang-B6pK3-mT.js";import{R as D,m as N}from"./mapRouteFromDto-BkFEQubd.js";import{g as A}from"./groupLessonsByLevelAndType-B0Iu0b2E.js";import{s as F}from"./index-3N09Puby.js";import{s as E}from"./index-CtlvT3kO.js";import"./index-DK15Ya2N.js";import"./index-DHTXTWdU.js";import"./logo-D1-3uCnC.js";import"./mapLessonFromDto-Dr_nbTzq.js";import"./mapUnitFromDto-BXFFFlEW.js";const V=T("route-store",()=>{const g=L(),i=h(null),u=h({}),e=h(!1);async function r(n){var p,y;try{e.value=!0;const{data:a}=await D.getRouteById(n);i.value=N(a),u.value=A(((p=i.value)==null?void 0:p.lessons)??[],((y=i.value)==null?void 0:y.levels)??[])}catch(a){g.add({severity:"error",summary:a.response.data.error,life:2e3})}finally{e.value=!1}}return{selectedRoute:i,isRouteLoading:e,groupedLessons:u,loadRouteById:r}}),U={class:"flex gap-2 w-full h-full items-end"},q={class:"flex-grow flex flex-col gap-[2px]"},z={class:"text-overline-small"},M={class:"text-body-large-semibold"},G={class:"pt-[10px] flex flex-col gap-1"},H={key:0},J={key:1},K={key:2},b=w({__name:"LessonCard",props:{lesson:{},route_id:{}},setup(g){const i=g,u=I();return(e,r)=>{const n=E,p=F;return s(),o("div",{class:k(["flex flex-col rounded-lg h-[160px] w-[360px] pt-2 px-3 cursor-pointer",e.lesson.accessStatus=="available"?e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)]":e.lesson.lessonType=="practice"?"bg-[var(--color-primary50)]":"bg-red-50":e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)] bg-opacity-50":"bg-[var(--color-primary50)] bg-opacity-50"]),onClick:r[0]||(r[0]=()=>l(u).push({name:e.lesson.lessonType=="project"?"project":"lesson",params:{id:e.lesson.id},query:{route_id:e.route_id}}))},[t("div",U,[t("div",q,[t("div",z,m(e.lesson.description),1),t("div",M,m(e.lesson.name),1)]),i.lesson.sourceImageUrl?(s(),R(n,{key:0,src:i.lesson.sourceImageUrl,alt:"Image",class:"w-[120px] h-[120px]"},null,8,["src"])):v("",!0)]),t("div",G,[t("div",{class:k(["action-small-bold",e.lesson.lessonType=="learn"?"text-purple400":"text-primary400"])},[e.lesson.studentProgress==0?(s(),o("span",H,"Start")):e.lesson.studentProgress==100?(s(),o("span",J,"Done")):(s(),o("span",K,"In progress"))],2),f(p,{value:e.lesson.studentProgress,"show-value":!1,class:"w-full rounded-full h-[2px]",dt:{value:{background:e.lesson.lessonType=="learn"?"var(--color-purple400)":"var(--color-primary400)"},background:e.lesson.lessonType=="learn"?"#CBBEFD":"#A9EAD8"}},null,8,["value","dt"])])],2)}}}),O={class:"flex flex-col items-center h-screen"},Q={class:"w-full h-full max-w-screen-xl px-4 md:px-28 py-8"},W={key:1,class:"flex justify-center"},X={key:2,class:"flex flex-col gap-8"},Y={class:"flex gap-[52px] p-6 bg-white rounded-2xl"},Z={class:"flex flex-col"},ee={class:"text-heading-3-semibold"},se={class:"text-lg text-gray-500"},oe={class:"text-heading-3-semibold text-neutral500 px-6"},te={key:0,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},le={class:"flex overflow-x-scroll gap-4"},re={key:1,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},ne={class:"flex overflow-x-scroll gap-4"},ae={key:2,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},ie={class:"flex overflow-x-scroll gap-4"},be=w({__name:"RoutePage",setup(g){const i=S(),u=V(),{isRouteLoading:e,selectedRoute:r,groupedLessons:n}=P(u),{loadRouteById:p}=u;return j(()=>p(Number(i.params.id))),(y,a)=>{const $=B;return s(),o("div",O,[f(l(C)),t("div",Q,[l(e)?(s(),R($,{key:0,class:"flex justify-center"})):l(r)?(s(),o("div",X,[t("div",Y,[t("div",Z,[t("div",ee,m(l(r).name),1),t("div",se,m(l(r).description),1)])]),(s(!0),o(_,null,x(l(r).levels,d=>(s(),o("div",{key:d.id,class:"flex flex-col gap-4"},[t("div",oe,m(d.name),1),l(n)[d.id].learn.length>0?(s(),o("div",te,[a[0]||(a[0]=t("div",{class:"text-heading-4-semibold text-neutral600"},"Learn",-1)),t("div",le,[(s(!0),o(_,null,x(l(n)[d.id].learn,c=>(s(),o("div",{key:c.id},[f(b,{lesson:c,route_id:l(r).id},null,8,["lesson","route_id"])]))),128))])])):v("",!0),l(n)[d.id].practice.length>0?(s(),o("div",re,[a[1]||(a[1]=t("div",{class:"text-heading-4-semibold text-neutral600"},"Practice",-1)),t("div",ne,[(s(!0),o(_,null,x(l(n)[d.id].practice,c=>(s(),o("div",{key:c.id},[f(b,{lesson:c,route_id:l(r).id},null,8,["lesson","route_id"])]))),128))])])):v("",!0),l(n)[d.id].project.length>0?(s(),o("div",ae,[a[2]||(a[2]=t("div",{class:"text-heading-4-semibold text-neutral600"},"Project",-1)),t("div",ie,[(s(!0),o(_,null,x(l(n)[d.id].project,c=>(s(),o("div",{key:c.id},[f(b,{lesson:c,route_id:l(r).id},null,8,["lesson","route_id"])]))),128))])])):v("",!0)]))),128))])):(s(),o("div",W,"No route found"))])])}}});export{be as default};
