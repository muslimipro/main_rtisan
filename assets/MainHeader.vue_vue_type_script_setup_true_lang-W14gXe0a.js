import{s as B}from"./index-jH-LFEDH.js";import{G as _,d as D,u as E,r as v,b as h,e as L,o as c,p as U,D as C,h as p,i,j as f,M as I,a as $,x as j,f as z,c as m,F as M,l as N,t as y,q as b,n as O,y as T,v as V,aD as F,w as q}from"./index-DahtM8lj.js";import{s as G}from"./index-DoH8TBbD.js";import{L as H}from"./logo-D1-3uCnC.js";const P={getUserProgress:J,getUserInfo:K,getUserLastLesson:Q,updateUserInfo:W};async function J(){return await _.get("user/progress")}async function K(){return await _.get("user/info")}async function Q(){return await _.get("v2/lesson/last")}async function W(l,e){return await _.put("/user/update",{name:l,surname:e})}const X=D("user-store",()=>{const l=E(),e=v(),o=v(!1);async function a(){try{o.value=!0;const{data:t}=await P.getUserInfo();e.value=t}catch(t){l.add({severity:"error",summary:t,life:2e3})}finally{o.value=!1}}const n=h(()=>{var u,d;let t="",r="";return(u=e.value)!=null&&u.name&&(t=e.value.name.charAt(0).toUpperCase()),(d=e.value)!=null&&d.surname&&(r=e.value.surname.charAt(0).toUpperCase()),t+r}),g=h(()=>{var t,r;return((t=e.value)==null?void 0:t.user_type)==="editor"||((r=e.value)==null?void 0:r.user_type)==="contributor"});return{isUserInfoLoading:o,userInfo:e,loadUserInfo:a,userLabel:n,isEditorOrContributor:g}}),Y=L({__name:"LogoTitle",setup(l){return(e,o)=>{const a=G,n=I("RouterLink");return c(),U(n,{to:"/v2",class:"flex items-center hover:opacity-80 transition"},{default:C(()=>[p(a,{src:i(H),width:"32",class:"hidden sm:block"},null,8,["src"]),o[0]||(o[0]=f("p",{class:"hidden sm:block text-xl font-semibold px-2 mr-8"},"Artisan",-1))]),_:1})}}}),Z={class:"flex items-center justify-between w-full min-h-16 border-b border-gray-200 px-8 bg-white"},ee={class:"flex items-center h-full"},te={class:"flex gap-6 h-full pt-1"},se={key:0,class:"text-md font-light"},oe={key:1,class:"text-md font-light"},ae={key:2,class:"text-md font-light"},ne={class:"flex items-center gap-2 h-full pt-1"},ue=L({__name:"MainHeader",setup(l){const{t:e}=$(),o=T(),a=V(),n=j(),g=X(),{isEditorOrContributor:t}=z(g),r=h(()=>[{name:"home2",title:e("home")},{name:"docs",title:e("docs")},{name:"hackathon",title:e("hackathon")},{name:"routes",title:"Routes"}]),u=v(),d=h(()=>[{label:e("header.menu.settings"),icon:"pi pi-cog",command:()=>a.push({name:"settings2"})},{label:e("logOut"),icon:"pi pi-sign-out",command:async()=>{await a.replace({name:"login"}),await F.logout(),n.logout()}}]),R=x=>{u.value.toggle(x)};return(x,k)=>{const A=I("RouterLink"),w=q,S=B;return c(),m("div",Z,[f("div",ee,[p(Y),f("div",te,[(c(!0),m(M,null,N(r.value,s=>(c(),U(A,{key:s.name,to:{name:s.name},class:O(["h-full flex items-center justify-center border-b-2 transition-colors",i(o).name===s.name?s.name=="hackathon"&&i(n).access_type=="hackathon"?"border-purple400 text-purple400":"border-black text-black":"border-transparent hover:text-black text-gray-500"])},{default:C(()=>[s.name=="hackathon"&&i(n).access_type=="hackathon"?(c(),m("span",se,y(s.title),1)):b("",!0),s.name=="routes"&&i(t)?(c(),m("span",oe,y(s.title),1)):b("",!0),["routes","hackathon"].includes(s.name)?b("",!0):(c(),m("span",ae,y(s.title),1))]),_:2},1032,["to","class"]))),128))])]),f("div",ne,[p(w,{id:"#ide",label:"IDE",onClick:k[0]||(k[0]=s=>i(a).push({name:"ide"})),size:"small",variant:"outlined",severity:"help",icon:"pi pi-microchip"}),p(w,{type:"button",icon:"pi pi-bars",onClick:R,size:"small",variant:"text",severity:"contrast",style:{width:"34px"}}),p(S,{ref_key:"menu",ref:u,model:d.value,popup:!0},null,8,["model"])])])}}});export{P as U,ue as _,X as u};
