import{s as V,a as k}from"./index-D83ScZVh.js";import{e as F,r as p,f as N,o as m,c as u,h as s,D as o,j as r,i,t as l,q as T,k as f,v as x,b5 as I,w as S}from"./index-Cl-EWMmq.js";import{b as B,a as D}from"./index-CbZmD6eA.js";import{s as M}from"./index-BMgxJ64u.js";import{u as O}from"./useSchoolStore-D9NC9GZ7.js";import"./index-B3kU7hI9.js";import"./index-Bq-2NNa2.js";import"./index-mH57kVTe.js";import"./index-B6aHXG2x.js";import"./index-ChWqc_5x.js";import"./index-c1ZKh8n_.js";import"./index-BNAgyEyD.js";import"./index-BDXP-c_D.js";import"./index-CNd8qlyw.js";import"./index-DkC_aZky.js";const P={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},R={class:"flex items-center"},U={class:"flex-grow flex gap-2 items-center"},j={key:0,class:"text-2xl"},le=F({__name:"ClassesView",setup(q){const h=x(),g=p(),n=p();(()=>{n.value={global:{value:null,matchMode:I.CONTAINS}}})();const _=O(),{classes:c,isLoading:v}=N(_);return(t,a)=>{const b=B,$=M,w=D,d=V,y=S,C=k;return m(),u("div",P,[s(C,{ref_key:"dt",ref:g,filters:n.value,"onUpdate:filters":a[1]||(a[1]=e=>n.value=e),value:i(c),dataKey:"id",loading:i(v),scrollable:"",globalFilterFields:["name","email"],class:"rounded-md overflow-hidden w-full",paginator:"",rows:10,rowsPerPageOptions:[5,10,25]},{header:o(()=>[r("div",R,[r("div",U,[i(c)?(m(),u("div",j,l(t.$t("pages.school.classes"))+" - "+l(i(c).length),1)):T("",!0)]),s(w,null,{default:o(()=>[s(b,null,{default:o(()=>a[2]||(a[2]=[r("i",{class:"pi pi-search"},null,-1)])),_:1}),s($,{modelValue:n.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value.global.value=e),placeholder:t.$t("pages.school.search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:o(()=>[f(l(t.$t("pages.school.noClassesFound")),1)]),loading:o(()=>[f(l(t.$t("pages.school.loadingClasses")),1)]),default:o(()=>[s(d,{field:"name",header:t.$t("pages.school.name"),sortable:""},{body:o(({data:e})=>[r("div",null,l(`${e.name}`),1)]),_:1},8,["header"]),s(d,{field:"creator",header:t.$t("pages.school.classTeacher"),sortable:""},{body:o(({data:e})=>[r("div",null,l(`${e.creator_name??e.creator_email}`),1)]),_:1},8,["header"]),s(d,{field:"students",header:t.$t("pages.school.students"),sortable:""},{body:o(({data:e})=>[r("div",null,l(`${e.student_count}`),1)]),_:1},8,["header"]),s(d,{exportable:!1},{body:o(({data:e})=>[s(y,{icon:"pi pi-angle-right",outlined:"",rounded:"",severity:"info",onClick:E=>i(h).push({name:"school-class",params:{id:e.id}})},null,8,["onClick"])]),_:1})]),_:1},8,["filters","value","loading"])])}}});export{le as default};
