import{s as B}from"./index-DrNd8oWO.js";import{d as j,u as T,r as y,e as w,o as s,c as o,j as t,t as a,p as $,q as x,n as k,h as f,i as l,v as L,f as P,g as I,F as h,l as v,y as C}from"./index-Cl-EWMmq.js";import{_ as S}from"./MainHeader.vue_vue_type_script_setup_true_lang-COBN57US.js";import{R as N,m as A}from"./mapRouteFromDto-mvCgavGt.js";import{g as D}from"./groupLessonsByLevelAndType-B0Iu0b2E.js";import{s as F}from"./index-C5MXKz_o.js";import{s as E}from"./index-DajmB_wk.js";import"./index-B6SYeHFo.js";import"./index-mH57kVTe.js";import"./logo-D1-3uCnC.js";import"./mapLessonFromDto-BRb_Xlqa.js";import"./mapUnitFromDto-BRBO9875.js";const V=j("route-store",()=>{const g=T(),i=y(null),u=y({}),e=y(!1);async function r(n){var p,m;try{e.value=!0;const{data:_}=await N.getRouteById(n);i.value=A(_),u.value=D(((p=i.value)==null?void 0:p.lessons)??[],((m=i.value)==null?void 0:m.levels)??[])}catch(_){g.add({severity:"error",summary:_.response.data.error,life:2e3})}finally{e.value=!1}}return{selectedRoute:i,isRouteLoading:e,groupedLessons:u,loadRouteById:r}}),q={class:"flex gap-2 w-full h-full items-end"},U={class:"flex-grow flex flex-col gap-[2px]"},z={class:"text-overline-small"},M={class:"text-body-large-semibold"},G={class:"pt-[10px] flex flex-col gap-1"},H={key:0},J={key:1},K={key:2},b=w({__name:"LessonCard",props:{lesson:{},route_id:{}},setup(g){const i=g,u=L();return(e,r)=>{const n=E,p=F;return s(),o("div",{class:k(["flex flex-col rounded-lg h-[160px] w-[348px] pt-2 px-3 cursor-pointer",e.lesson.accessStatus=="available"?e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)]":e.lesson.lessonType=="practice"?"bg-[var(--color-primary50)]":"bg-slate-50":e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)] bg-opacity-50":"bg-[var(--color-primary50)] bg-opacity-50"]),onClick:r[0]||(r[0]=()=>l(u).push({name:e.lesson.lessonType=="project"?"project":e.lesson.studentProgress==100?"lesson-revise":"lesson",params:{id:e.lesson.id},query:{route_id:e.route_id}}))},[t("div",q,[t("div",U,[t("div",z,a(e.lesson.description),1),t("div",M,a(e.lesson.name),1)]),i.lesson.sourceImageUrl?(s(),$(n,{key:0,src:i.lesson.sourceImageUrl,alt:"Image",class:"min-w-[120px] min-h-[120px] w-[120px] h-[120px]"},null,8,["src"])):x("",!0)]),t("div",G,[t("div",{class:k(["action-small-bold",e.lesson.lessonType=="learn"?"text-purple400":"text-primary400"])},[e.lesson.studentProgress==0?(s(),o("span",H,a(e.$t("start")),1)):e.lesson.studentProgress==100?(s(),o("span",J,a(e.$t("done")),1)):(s(),o("span",K,a(e.$t("inProgress")),1))],2),f(p,{value:e.lesson.studentProgress,"show-value":!1,class:"w-full rounded-full h-[2px]",dt:{value:{background:e.lesson.lessonType=="learn"?"var(--color-purple400)":"var(--color-primary400)"},background:e.lesson.lessonType=="learn"?"#CBBEFD":"#A9EAD8"}},null,8,["value","dt"])])],2)}}}),O={class:"flex flex-col items-center h-screen"},Q={class:"w-full h-full max-w-[1400px] px-4 md:px-28 py-8"},W={key:1,class:"flex justify-center"},X={key:2,class:"flex flex-col gap-8"},Y={class:"flex gap-[52px] p-6 bg-white rounded-2xl"},Z={class:"flex flex-col"},ee={class:"text-heading-3-semibold"},se={class:"text-lg text-gray-500"},oe={class:"text-heading-3-semibold text-neutral500 px-6"},te={key:0,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},le={class:"text-heading-4-semibold text-neutral600"},re={class:"flex overflow-x-scroll gap-4"},ae={key:1,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},ne={class:"text-heading-4-semibold text-neutral600"},ie={class:"flex overflow-x-scroll gap-4"},de={key:2,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},ce={class:"text-heading-4-semibold text-neutral600"},ue={class:"flex flex-wrap gap-4"},$e=w({__name:"RoutePage",setup(g){const i=C(),u=V(),{isRouteLoading:e,selectedRoute:r,groupedLessons:n}=P(u),{loadRouteById:p}=u;return I(()=>p(Number(i.params.id))),(m,_)=>{const R=B;return s(),o("div",O,[f(l(S)),t("div",Q,[l(e)?(s(),$(R,{key:0,class:"flex justify-center"})):l(r)?(s(),o("div",X,[t("div",Y,[t("div",Z,[t("div",ee,a(l(r).name),1),t("div",se,a(l(r).description),1)])]),(s(!0),o(h,null,v(l(r).levels,d=>(s(),o("div",{key:d.id,class:"flex flex-col gap-4"},[t("div",oe,a(d.name),1),l(n)[d.id].learn.length>0?(s(),o("div",te,[t("div",le,a(m.$t("pages.projects.learn")),1),t("div",re,[(s(!0),o(h,null,v(l(n)[d.id].learn,c=>(s(),o("div",{key:c.id},[f(b,{lesson:c,route_id:l(r).id},null,8,["lesson","route_id"])]))),128))])])):x("",!0),l(n)[d.id].practice.length>0?(s(),o("div",ae,[t("div",ne,a(m.$t("pages.projects.practice")),1),t("div",ie,[(s(!0),o(h,null,v(l(n)[d.id].practice,c=>(s(),o("div",{key:c.id},[f(b,{lesson:c,route_id:l(r).id},null,8,["lesson","route_id"])]))),128))])])):x("",!0),l(n)[d.id].project.length>0?(s(),o("div",de,[t("div",ce,a(m.$t("project")),1),t("div",ue,[(s(!0),o(h,null,v(l(n)[d.id].project,c=>(s(),o("div",{key:c.id},[f(b,{lesson:c,route_id:l(r).id},null,8,["lesson","route_id"])]))),128))])])):x("",!0)]))),128))])):(s(),o("div",W,"No route found"))])])}}});export{$e as default};
