import{s as h}from"./index-Dd2QKpoK.js";import{b as C,r as g,f as V,o as e,c,g as B,i as d,t as a,l as o,D as i,j as l,p as u,h as v,F as A,y as E,v as N,aE as S,w as T}from"./index-B0HcSKKu.js";import{s as w}from"./index-DXCPLpGv.js";import{_ as x}from"./AuthHeader.vue_vue_type_script_setup_true_lang-qGOavm-p.js";import"./index-9Fhw9YjP.js";import"./logo-D1-3uCnC.js";const D={class:"card flex flex-col items-center pt-4 gap-4"},F={class:"text-2xl"},I={key:0},M={key:1},G=C({__name:"VerifyChangeEmail",setup(R){const y=E(),p=N(),s=g(!1),n=g(null);async function _(){s.value=!0;try{await S.verifyChangeEmail(y.query.token),n.value=!0}catch(t){n.value=!1,console.log(t)}finally{s.value=!1}}return V(()=>{_()}),(t,r)=>{const f=w,m=T,k=h;return e(),c(A,null,[B(x),d("div",D,[d("div",F,a(t.$t("pages.login.emailVerification")),1),s.value?u("",!0):(e(),c("div",I,[n.value==!0?(e(),o(f,{key:0,severity:"success"},{default:i(()=>[l(a(t.$t("pages.login.emailSuccessfullyChangedAndVerified")),1)]),_:1})):(e(),o(f,{key:1,severity:"error"},{default:i(()=>[l(a(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),s.value?u("",!0):(e(),c("div",M,[n.value==!0?(e(),o(m,{key:0,onClick:r[0]||(r[0]=$=>v(p).replace("/"))},{default:i(()=>[l(a(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),o(m,{key:1,onClick:r[1]||(r[1]=$=>v(p).replace("/settings/change-email"))},{default:i(()=>[l(a(t.$t("pages.login.goToSettings")),1)]),_:1}))])),s.value?(e(),o(k,{key:2})):u("",!0)])],64)}}});export{G as default};
