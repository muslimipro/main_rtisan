import{s as S}from"./index-IYpNXtcb.js";import{G as h,d as B,u as E,r as b,a as v,b as L,o as c,l as D,D as U,g as i,h as l,i as f,M as C,ad as $,x as z,e as H,c as p,F as M,k as N,t as g,p as y,n as O,y as T,v as V,aE as j,w as F}from"./index-B0HcSKKu.js";import{s as G}from"./index-9Fhw9YjP.js";import{L as P}from"./logo-D1-3uCnC.js";const q={getUserProgress:J,getUserInfo:K,getUserLastLesson:Q,updateUserInfo:W};async function J(){return await h.get("user/progress")}async function K(){return await h.get("user/info")}async function Q(){return await h.get("v2/lesson/last")}async function W(u,e){return await h.put("/user/update",{name:u,surname:e})}const X=B("user-store",()=>{const u=E(),e=b(),o=b(!1);async function a(){try{o.value=!0;const{data:t}=await q.getUserInfo();e.value=t}catch(t){u.add({severity:"error",summary:t,life:2e3})}finally{o.value=!1}}const n=v(()=>{var m,d;let t="",r="";return(m=e.value)!=null&&m.name&&(t=e.value.name.charAt(0).toUpperCase()),(d=e.value)!=null&&d.surname&&(r=e.value.surname.charAt(0).toUpperCase()),t+r}),_=v(()=>{var t,r;return((t=e.value)==null?void 0:t.user_type)==="editor"||((r=e.value)==null?void 0:r.user_type)==="contributor"});return{isUserInfoLoading:o,userInfo:e,loadUserInfo:a,userLabel:n,isEditorOrContributor:_}}),Y=L({__name:"LogoTitle",setup(u){return(e,o)=>{const a=G,n=C("RouterLink");return c(),D(n,{to:"/v2",class:"flex items-center hover:opacity-80 transition"},{default:U(()=>[i(a,{src:l(P),width:"32",class:"hidden sm:block"},null,8,["src"]),o[0]||(o[0]=f("p",{class:"hidden sm:block text-xl font-semibold px-2 mr-8"},"Artisan",-1))]),_:1})}}}),Z={class:"flex items-center justify-between w-full min-h-16 border-b border-gray-200 px-8 bg-white"},ee={class:"flex items-center h-full"},te={class:"flex gap-6 h-full pt-1"},se={key:0,class:"text-md font-light"},oe={key:1,class:"text-md font-light"},ae={key:2,class:"text-md font-light"},ne={class:"flex items-center gap-2 h-full pt-1"},ue=L({__name:"MainHeader",setup(u){const{t:e}=$(),o=T(),a=V(),n=z(),_=X(),{isEditorOrContributor:t}=H(_),r=[{name:"home2",title:"Home"},{name:"docs",title:"Docs"},{name:"hackathon",title:"Hackathon"},{name:"routes",title:"Routes"}],m=b(),d=v(()=>[{label:e("header.menu.settings"),icon:"pi pi-cog",command:()=>a.push({name:"settings2"})},{label:e("logOut"),icon:"pi pi-sign-out",command:async()=>{await a.replace({name:"login"}),await j.logout(),n.logout()}}]),I=x=>{m.value.toggle(x)};return(x,k)=>{const R=C("RouterLink"),w=F,A=S;return c(),p("div",Z,[f("div",ee,[i(Y),f("div",te,[(c(),p(M,null,N(r,s=>i(R,{key:s.name,to:{name:s.name},class:O(["h-full flex items-center justify-center border-b-2 transition-colors",l(o).name===s.name?s.name=="hackathon"&&l(n).access_type=="hackathon"?"border-purple400 text-purple400":"border-black text-black":"border-transparent hover:text-black text-gray-500"])},{default:U(()=>[s.name=="hackathon"&&l(n).access_type=="hackathon"?(c(),p("span",se,g(s.title),1)):y("",!0),s.name=="routes"&&l(t)?(c(),p("span",oe,g(s.title),1)):y("",!0),["routes","hackathon"].includes(s.name)?y("",!0):(c(),p("span",ae,g(s.title),1))]),_:2},1032,["to","class"])),64))])]),f("div",ne,[i(w,{id:"#ide",label:"IDE",onClick:k[0]||(k[0]=s=>l(a).push({name:"ide"})),size:"small",variant:"outlined",severity:"help",icon:"pi pi-microchip"}),i(w,{type:"button",icon:"pi pi-bars",onClick:I,size:"small",variant:"text",severity:"contrast",style:{width:"34px"}}),i(A,{ref_key:"menu",ref:m,model:d.value,popup:!0},null,8,["model"])])])}}});export{q as U,ue as _,X as u};
