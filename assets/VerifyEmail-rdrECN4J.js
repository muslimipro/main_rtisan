import{s as V}from"./index-BRrpa35N.js";import{b as h,r as g,f as A,o as e,c,g as B,j as d,t as o,p as a,y as i,k as l,q as u,i as v,F as C,A as x,w as N,aA as S,x as T}from"./index-ZdE7U8ry.js";import{s as w}from"./index-CPgS_Es0.js";import{_ as E}from"./AuthHeader.vue_vue_type_script_setup_true_lang-CcCS-4cD.js";import"./index-PjZCcKVQ.js";import"./logo-D1-3uCnC.js";const q={class:"card flex flex-col items-center pt-4 gap-4"},F={class:"text-2xl"},I={key:0},M={key:1},G=h({__name:"VerifyEmail",setup(R){const y=x(),p=N(),s=g(!1),r=g(null);async function _(){s.value=!0;try{await S.verifyEmail(y.query.token),r.value=!0}catch(t){r.value=!1,console.log(t)}finally{s.value=!1}}return A(()=>{_()}),(t,n)=>{const f=w,m=T,k=V;return e(),c(C,null,[B(E),d("div",q,[d("div",F,o(t.$t("pages.login.emailVerification")),1),s.value?u("",!0):(e(),c("div",I,[r.value==!0?(e(),a(f,{key:0,severity:"success"},{default:i(()=>[l(o(t.$t("pages.login.emailSuccessfullyVerified")),1)]),_:1})):(e(),a(f,{key:1,severity:"error"},{default:i(()=>[l(o(t.$t("pages.login.tokenIsInvalidTryAgain")),1)]),_:1}))])),s.value?u("",!0):(e(),c("div",M,[r.value==!0?(e(),a(m,{key:0,onClick:n[0]||(n[0]=$=>v(p).replace("/"))},{default:i(()=>[l(o(t.$t("pages.login.goToHome")),1)]),_:1})):(e(),a(m,{key:1,onClick:n[1]||(n[1]=$=>v(p).replace("/settings/change-email"))},{default:i(()=>[l(o(t.$t("pages.login.goToSettings")),1)]),_:1}))])),s.value?(e(),a(k,{key:2})):u("",!0)])],64)}}});export{G as default};
